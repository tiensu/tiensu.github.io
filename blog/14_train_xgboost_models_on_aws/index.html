<!DOCTYPE html>
<html lang="en-us"><head>
  <meta charset="utf-8">
  <title>SuNT&#39;s Blog | AI in Practical</title>

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="This is meta description">
  <meta name="author" content="SuNT">
  <meta name="generator" content="Hugo 0.68.3" />

  <!-- plugins -->
  
  <link rel="stylesheet" href="https://tiensu.github.io/plugins/bootstrap/bootstrap.min.css ">
  
  <link rel="stylesheet" href="https://tiensu.github.io/plugins/slick/slick.css ">
  
  <link rel="stylesheet" href="https://tiensu.github.io/plugins/themify-icons/themify-icons.css ">
  
  <link rel="stylesheet" href="https://tiensu.github.io/plugins/venobox/venobox.css ">
  
  <link rel="stylesheet" href="https://tiensu.github.io/css/override.css">
  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="https://tiensu.github.io/scss/style.min.css" media="screen">

  <!--Favicon-->
  <link rel="shortcut icon" href="https://tiensu.github.io/images/favicon.png " type="image/x-icon">
  <link rel="icon" href="https://tiensu.github.io/images/favicon.png " type="image/x-icon">

  <!-- google analitycs -->
  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'Your ID', 'auto');
    ga('send', 'pageview');
  </script>

</head><body>
<!-- preloader start -->
<div class="preloader">
  
</div>
<!-- preloader end -->
<!-- navigation -->
<header class="navigation">
  <div class="container">
    
    <nav class="navbar navbar-expand-lg navbar-white bg-transparent border-bottom pl-0">
      <a class="navbar-brand mobile-view" href="https://tiensu.github.io/"><img class="img-fluid"
          src="https://tiensu.github.io/images/logo3.jpg" alt="SuNT&#39;s Blog | AI in Practical"></a>
      <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#navigation">
        <i class="ti-menu h3"></i>
      </button>

      <div class="collapse navbar-collapse text-center" id="navigation">
        <div class="desktop-view">
          <ul class="navbar-nav mr-auto">
            
            <li class="nav-item">
              <a class="nav-link" href="https://www.facebook.com/tiensunguyen2103"><i class="ti-facebook"></i></a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link" href="https://www.linkedin.com/in/su-nguyen-tien-aws%C2%AE-5ba74ba6/"><i class="ti-linkedin"></i></a>
            </li>
            
          </ul>
        </div>

        <a class="navbar-brand mx-auto desktop-view" href="https://tiensu.github.io/"><img class="img-fluid"
            src="https://tiensu.github.io/images/logo3.jpg" alt="SuNT&#39;s Blog | AI in Practical"></a>

        <ul class="navbar-nav">
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://tiensu.github.io/about">About</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://tiensu.github.io/blog">Post</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://tiensu.github.io/contact">Contact</a>
          </li>
          
          
        </ul>

        
        <!-- search -->
        <div class="search pl-lg-4">
          <button id="searchOpen" class="search-btn"><i class="ti-search"></i></button>
          <div class="search-wrapper">
            <form action="https://tiensu.github.io//search" class="h-100">
              <input class="search-box px-4" id="search-query" name="s" type="search" placeholder="Type & Hit Enter...">
            </form>
            <button id="searchClose" class="search-close"><i class="ti-close text-dark"></i></button>
          </div>
        </div>
        

        
      </div>
    </nav>
  </div>
  <script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$','$$'], ['\\[', '\\]']],
      processEscapes: true,
      processEnvironments: true
    },
    options: {
      skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
    }
  };

  window.addEventListener('load', (event) => {
      document.querySelectorAll("mjx-container").forEach(function(x){
        x.parentElement.classList += 'has-jax'})
    });

</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

</header>
<!-- /navigation -->

<section class="section-sm">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 mx-auto">
        
        <a href="/categories/machine-learning"
          class="text-primary">Machine Learning</a>
        
        <a href="/categories/xgboost"
          class="text-primary">X g boost</a>
        
        <h2>XGBoost - Bài 11: Train XGBoost model trên AWS</h2>
        <div class="mb-3 post-meta">
          <span>By SuNT</span>
          
          <span class="border-bottom border-primary px-2 mx-1"></span>
          <span>06 October 2020</span>
          
        </div>
        
        <img src="https://tiensu.github.io/images/featured-post/aws-logo.png" class="img-fluid w-100 mb-4" alt="XGBoost - Bài 11: Train XGBoost model trên AWS">
        
        <div class="content mb-5">
          <p>Thư viện XGBoost được thiết kế  để tận dụng tối đa sức mạnh của phần cứng hệ thống, bao gồm tất cả CPU cores và bộ nhớ. Trong bài viết này, ta sẽ cùng nhau tìm hiểu cách thiết lập một server trên AWS để train XGBoost model, sao cho vừa nhanh, vừa rẻ! :D</p>
<p>Bài viết gồm 4 phần:</p>
<ul>
<li>Tạo tài khoản AWS</li>
<li>Chạy AWS EC2 Instance</li>
<li>Kết nối đến EC2 Instance và chạy code</li>
<li>train XGBoost model</li>
<li>Đóng AWS EC2 Instance</li>
</ul>
<p><em><strong>Chú ý quan trọng: Sẽ mất khoảng 1-2$ chi phí để sử dụng các dịch vụ của AWS trong bài viết này.</strong></em></p>
<p><strong>1. Tạo tài khoản AWS</strong></p>
<p><em>(Nếu bạn đã có tài khoản AWS, hãy bỏ qua bước này!)</em></p>
<ul>
<li>Truy cập vào màn hình <a href="https://console.aws.amazon.com/">console</a> của AWS. Tại đây ta có thể đăng nếu đã có tài khoản hoặc đăng ký tài khoản mới nếu chưa có.</li>
</ul>


    <div style="text-align:center">
        <img style="height:auto" src="/images/post/aws_1.png">
    </div>


<ul>
<li>Bạn cần cung cấp một số thông tin cần thiết, và đặc biệt là phải có một thẻ credit còn hiệu lực để có thể tiến hành tạo tài khoản. Các công đoạn khác, hãy làm theo chỉ dần trên màn hình.</li>
</ul>
<p><strong>2. Chạy AWS EC2 Instance</strong></p>
<p>Chúng ta sẽ sử dụng dịch vụ EC2 để chạy XGBoost.</p>
<ul>
<li>Đăng nhập vào AWS console. Sau khi đăng nhập thành công, danh sách các dịch vụ của AWS sẽ hiển thị.</li>
<li>Chọn EC2.</li>
</ul>


    <div style="text-align:center">
        <img style="height:auto" src="/images/post/aws_2.png">
    </div>


<ul>
<li>Click vào nút <code>Launch EC2 Instance</code>.</li>
<li>Click vào <code>Community AMIs</code></li>
</ul>


    <div style="text-align:center">
        <img style="height:auto" src="/images/post/aws_3.png">
    </div>


<ul>
<li>Nhập <code>ami-1c40bf7d</code> vào <code>Search community AMIs</code> và chọn <code>Select</code>.</li>
</ul>


    <div style="text-align:center">
        <img style="height:auto" src="/images/post/aws_4.png">
    </div>


<ul>
<li>Chọn EC2 Instance type là r4.8xlarge (32 cores CPU).
Click <code>Review and Launch</code>.</li>
<li>Click <code>Launch</code>.</li>
<li>Chọn <code>Create a new key pair</code>, điền tên của <code>key</code> là <code>xgboost-key và click </code>Download Key Pair`.</li>
</ul>


    <div style="text-align:center">
        <img style="height:auto" src="/images/post/aws_5.png">
    </div>


<p>Lưu file key vào máy tính ở local, sau đó click <code>Launch EC2 Instances</code>.</p>
<ul>
<li>Click <code>View EC2 Instances</code>.
Chờ khoảng 3 phút và kiểm tra trạng thái của EC2 Instance.</li>
</ul>


    <div style="text-align:center">
        <img style="height:auto" src="/images/post/aws_6.png">
    </div>


<p>Nếu trạng thái là <code>Running</code> thì tức là đã tạo EC2 Instance thành công.
Ta cũng để ý thấy địa chỉ <code>public IP</code> của EC2 Instance là: <strong>54.92.106.10</strong>. Tiếp theo ta sẽ sử dụng địa chỉ này để kết nối đến EC2 Instance từ localhost thông qua giao thức SSH.</p>
<p><strong>3. Kết nối đến EC2 Instance và chạy code</strong></p>
<p><em><strong>3.1 Kết nối đến EC2 Instance qua giao thức ssh</strong></em></p>
<ul>
<li>Trên máy tính local (mình dùng Ubuntu), mở cửa sổ Terminal và gõ lệnh:</li>
</ul>
<pre><code>$ cd Documents #Thư mục chứa key file
$ chmod 600 xgboost-key.pem
$ ssh -i xgboost.pem fedora@54.92.106.10
</code></pre><p>Nếu đây là lần đầu kết nối đến EC2 Instance, sẽ có 1 cảnh báo xuất hiện. Gõ <code>yes</code>.</p>
<p>Nếu kết nối thành công, màn hình Terminal sẽ xuất hiện như sau:</p>


    <div style="text-align:center">
        <img style="height:auto" src="/images/post/aws_7.png">
    </div>


<ul>
<li>Kiểm ra số lượng CPU cores</li>
</ul>
<pre><code>$cat /proc/cpuinfo | grep processor | wc -l
</code></pre><p>Kết quả:</p>
<pre><code>32
</code></pre><p><em><strong>3.2 Cài đặt các thư  viện cần thiết</strong></em></p>
<ul>
<li>Cài đặt GCC, Python và SciPy</li>
</ul>
<pre><code>sudo dnf install gcc gcc-c++ make git unzip python python3-numpy python3-scipy
python3-scikit-learn python3-pandas python3-matplotlib
</code></pre><ul>
<li>Cài đặt Cmake</li>
</ul>
<p>XGBoost yêu cầu cmake &gt;= 3.13. Nếu bạn cài bằng bằng lệnh <code>dnf install cmake</code> thì phiên bản của make la 3.9. Để cài cmake &gt;= 3.13, bạn phải cài build từ source.</p>
<pre><code>$ wget https://github.com/Kitware/CMake/releases/download/v3.15.2/cmake-3.15.2.tar.gz
$ tar -zxvf cmake-3.15.2.tar.gz
$ cd cmake-3.15.2
$ ./bootstrap
$ make
$ sudo make install
</code></pre><p><em><strong>Kiểm tra GCC:</strong></em></p>
<pre><code>$gcc --version
</code></pre><p>Kết quả:</p>
<pre><code>[fedora@ip-172-31-37-253 ~]$ gcc --version
gcc (GCC) 6.3.1 20161221 (Red Hat 6.3.1-1)
</code></pre><p><em><strong>Kiểm tra Python:</strong></em></p>
<pre><code>$ python3 --version
</code></pre><p>Kết quả:</p>
<pre><code>Python 3.5.1
</code></pre><p><em><strong>Kiểm tra SciPy:</strong></em></p>
<pre><code>$ python3 -c &quot;import scipy;print(scipy.__version__)&quot;
$ python3 -c &quot;import numpy;print(numpy.__version__)&quot;
$ python3 -c &quot;import pandas;print(pandas.__version__)&quot;
$ python3 -c &quot;import sklearn;print(sklearn.__version__)&quot;
</code></pre><p>Kết quả:</p>
<pre><code>0.16.1
1.11.0
0.18.0
0.17.1
</code></pre><p><em><strong>Kiểm tra Cmake</strong></em></p>
<pre><code>$ cmake --version
</code></pre><p>Kết quả:</p>
<pre><code>3.15.1
</code></pre><p><em><strong>3.3. Cài đặt thư viện XGBoost</strong></em></p>
<pre><code>$ pip3 install xgboost==1.1
</code></pre><p>Tại thời điểm viết bài, phiên bản mới nhất của xgboost là 1.2. Nhưng vì phiên bản của python=3.5 nên bạn chỉ có thể sử dụng được phiên bản 1.1 của xgboost.</p>
<p>Kiểm tra:</p>
<pre><code>$ python3 -c &quot;import xgboost;print(xgboost.__version__)&quot;
</code></pre><p>Kết quả:</p>
<pre><code>1.1.0
</code></pre><p><strong>4. Train XGBoost model</strong></p>
<p>Tương tự như ở bài 9, chúng ta cũng sẽ sử dụng <a href="https://www.kaggle.com/c/otto-group-product-classification-challenge/da">Otto dataset</a> để kiểm tra khả năng của XGBoost model theo số lượng cores của CPU.</p>
<ul>
<li>Tạo thư mục <code>xgboost</code> trên máy local, tạo file <code>check_num_threads.py</code> với code như sau:</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># Otto multi-core test</span>
<span style="color:#f92672">from</span> pandas <span style="color:#f92672">import</span> read_csv
<span style="color:#f92672">from</span> xgboost <span style="color:#f92672">import</span> XGBClassifier
<span style="color:#f92672">from</span> sklearn.preprocessing <span style="color:#f92672">import</span> LabelEncoder
<span style="color:#f92672">from</span> time <span style="color:#f92672">import</span> time
<span style="color:#75715e"># load data</span>
data <span style="color:#f92672">=</span> read_csv(<span style="color:#e6db74">&#39;train.csv&#39;</span>)
dataset <span style="color:#f92672">=</span> data<span style="color:#f92672">.</span>values
<span style="color:#75715e"># split data into X and y</span>
X <span style="color:#f92672">=</span> dataset[:,<span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">94</span>]
y <span style="color:#f92672">=</span> dataset[:,<span style="color:#ae81ff">94</span>]
<span style="color:#75715e"># encode string class values as integers</span>
label_encoded_y <span style="color:#f92672">=</span> LabelEncoder()<span style="color:#f92672">.</span>fit_transform(y)
<span style="color:#75715e"># evaluate the effect of the number of threads</span>
results <span style="color:#f92672">=</span> []
num_threads <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">16</span>, <span style="color:#ae81ff">32</span>]
<span style="color:#66d9ef">for</span> n <span style="color:#f92672">in</span> num_threads:
	start <span style="color:#f92672">=</span> time()
	model <span style="color:#f92672">=</span> XGBClassifier(nthread<span style="color:#f92672">=</span>n)
	model<span style="color:#f92672">.</span>fit(X, label_encoded_y)
	elapsed <span style="color:#f92672">=</span> time() <span style="color:#f92672">-</span> start
	<span style="color:#66d9ef">print</span>(n, elapsed)
	results<span style="color:#f92672">.</span>append(elapsed)
</code></pre></div><p>Copy file <code>train.csv</code> ở bài trước vào thư mục <code>xgboost</code>.</p>
<ul>
<li>Tại cửa sổ Terminal của máy local, copy thư mục <code>xgboost</code> lên EC2 Instance:</li>
</ul>
<pre><code>$ scp -i xgboost-key.pem -r xgboost fedora@54.92.106.10:/home/fedora
</code></pre><ul>
<li>Tại của sổ Terminal kết nôi tới EC2 Instance, tiến hành chạy code:</li>
</ul>
<pre><code>$ cd xgboost
python3 check_num_threads.py
</code></pre><p>Kết quả thu được:</p>
<pre><code>1 70.75178146362305
16 6.106862545013428
32 5.045598745346069
</code></pre><p>Sử dụng 32 cores, mất 5s để train XGBoost model với tập dữ liệu tương đối lớn. Đây quả là một kết quả ấn tượng. :D</p>
<p><em><strong>Bonus:</strong></em>: Trong trường hợp việc train model mất nhiều thời gian hơn mà chẳng may bạn bị mất kết nối đến EC2 Instance giữa chừng thì thế nào? Bạn phải chạy train lại từ đầu ư? Quả là mất thời gian phải không? Giải pháp để ngăn chặn tình huống này, hoặc là bạn chạy lệnh train ở chế độ <code>background process</code> và ghi kết quả ra một file như lệnh sau:</p>
<pre><code>$ nohup python script.py &gt;script.py.out 2&gt;&amp;1 &amp;
</code></pre><p>hoặc bạn cũng có thể sử dụng <a href="https://github.com/tmux/tmux/wiki">Tmux</a>.</p>
<p><strong>5. Tắt EC2 EC2 Instance</strong></p>
<p><code>Tiết kiệm là quốc sách hàng đầu</code>, hãy luôn nhớ tắt EC2 EC2 Instance mỗi khi sử dụng xong. Bản thân mình đã từng một lần quên không tắt trong vài ngày. Kết quả là con số trên hóa đơn AWS tháng đó làm mình buồn mất cả tuần, :).</p>
<p>Để tắt EC2 EC2 Instance, đơn giản là làm theo như hình vẽ sau:</p>


    <div style="text-align:center">
        <img style="height:auto" src="/images/post/aws_8.png">
    </div>


<ul>
<li>Chọn 1-&gt;2-&gt;3 nếu bạn muốn tắt tạm thời (khi nào muốn dùng thì khởi động lên).</li>
<li>Chọn 1-&gt;2-&gt;4 nếu bạn muốn xóa hẳn EC2 EC2 Instance này.</li>
</ul>
<p><strong>6. Kết luận</strong></p>
<p>Trong bài viết này, chúng ta đã tìm hiểu cách cài đặt vào cấu hình EC2 Instance để train XGBoost model trên AWS.</p>
<p>Bài viết tiếp theo sẽ thiên về lý thuyết một chút, chúng ta sẽ tìm hiểu cách cấu hình <code>hyper-parameters</code> cho <code>gradient boosting model</code>. Hãy cùng đón đọc! :)</p>
<p><em>Toàn bộ source code của bài này các bạn có thể tham khảo trên github cá nhân của mình tại <a href="https://github.com/tiensu/xgboost-algorithm/tree/master/run_on_aws">github.</a></em></p>
<p>Bài viết có tham khảo tại <a href="https://machinelearningmastery.com/XGBoost-with-python/">tham khảo</a>.</p>

        </div>

        
        
      </div>
    </div>
  </div>
</section>



<footer>
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-12 text-center mb-5">
        <a href="https://tiensu.github.io/"><img src="https://tiensu.github.io/images/logo3.jpg" alt="SuNT&#39;s Blog | AI in Practical" style="height: auto"></a>
      </div>
               
      <div class="col-lg-3 col-sm-6 mb-5">
        <h6 class="mb-4">Contact Me</h6>
        <ul class="list-unstyled">
          
          <li class="mb-3"><a class="text-dark" href="tel:0869644890"><i
                class="ti-mobile mr-3 text-primary"></i>0869644890</a></li>
          
                     
          <li class="mb-3"><i class="ti-location-pin mr-3 text-primary"></i>Hanoi, Vietnam</li>
          
                     
          <li class="mb-3"><a class="text-dark" href="mailto:tiensunguyen2103@gmail.com"><i
                class="ti-email mr-3 text-primary"></i>tiensunguyen2103@gmail.com</a>
          
          </li>
        </ul>
      </div>
      
      <div class="col-lg-3 col-sm-6 mb-5">
        <h6 class="mb-4">Social Contacts</h6>
        <ul class="list-unstyled">
          
          <li class="mb-3"><a class="text-dark" href="https://www.facebook.com/tiensunguyen2103">Facebook</a></li>
          
          <li class="mb-3"><a class="text-dark" href="https://www.linkedin.com/in/su-nguyen-tien-aws%C2%AE-5ba74ba6/">Linkedin</a></li>
          
        </ul>
      </div>
      <div class="col-lg-3 col-sm-6 mb-5">
        <h6 class="mb-4">Categories</h6>
        <ul class="list-unstyled">
          <li class="mb-3"><a class="text-dark"
              href="/categories/algorithm-optimization">Algorithm Optimization</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="/categories/autoencoder">Autoencoder</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="/categories/convolution-neural-network">Convolution Neural Network</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="/categories/data-driff">Data driff</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="/categories/data-science">Data Science</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="/categories/deep-learning">Deep Learning</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="/categories/docker">Docker</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="/categories/ebook">Ebook</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="/categories/ensemble-learning">Ensemble Learning</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="/categories/image-classification">Image classification</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="/categories/kubernetes">Kubernetes</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="/categories/machine-learning">Machine Learning</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="/categories/model-deployment">Model deployment</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="/categories/neural-network">Neural Network</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="/categories/project-management">Project Management</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="/categories/scalability">Scalability</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="/categories/text-classification">Text Classification</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="/categories/xgboost">Xgboost</a>
          </li>
        </ul>
      </div>
      <div class="col-lg-3 col-sm-6 mb-5">
        <h6 class="mb-4">Quick Links</h6>
        <ul class="list-unstyled">
          
          <li class="mb-3"><a class="text-dark" href="https://tiensu.github.io/about">About</a></li>
          
          <li class="mb-3"><a class="text-dark" href="https://tiensu.github.io/blog">Post</a></li>
          
          <li class="mb-3"><a class="text-dark" href="https://tiensu.github.io/contact">Contact</a></li>
          
        </ul>
      </div>
      <div class="col-12 border-top py-4 text-center">
        | copyright © 2021 <a href="tiensu.github.io">SuNT</a>. All Rights Reserved |
      </div>
    </div>
  </div>
</footer>

<script>
  var indexURL = "https://tiensu.github.io/index.json"
</script>

<!-- JS Plugins -->

<script src="https://tiensu.github.io/plugins/jQuery/jquery.min.js"></script>

<script src="https://tiensu.github.io/plugins/bootstrap/bootstrap.min.js"></script>

<script src="https://tiensu.github.io/plugins/slick/slick.min.js"></script>

<script src="https://tiensu.github.io/plugins/venobox/venobox.min.js"></script>

<script src="https://tiensu.github.io/plugins/search/fuse.min.js"></script>

<script src="https://tiensu.github.io/plugins/search/mark.js"></script>

<script src="https://tiensu.github.io/plugins/search/search.js"></script>

<!-- Main Script -->

<script src="https://tiensu.github.io/js/script.min.js"></script>




<script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.2.1/js.cookie.min.js"></script>
<div id="js-cookie-box" class="cookie-box cookie-box-hide">
	This site uses cookies. By continuing to use this website, you agree to their use. <span id="js-cookie-button" class="btn btn-sm btn-primary ml-2">I Accept</span>
</div>
<script>
	(function ($) {
		const cookieBox = document.getElementById('js-cookie-box');
		const cookieButton = document.getElementById('js-cookie-button');
		if (!Cookies.get('cookie-box')) {
			cookieBox.classList.remove('cookie-box-hide');
			cookieButton.onclick = function () {
				Cookies.set('cookie-box', true, {
					expires:  2 
				});
				cookieBox.classList.add('cookie-box-hide');
			};
		}
	})(jQuery);
</script>


<style>
.cookie-box {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  text-align: center;
  z-index: 9999;
  padding: 1rem 2rem;
  background: rgb(71, 71, 71);
  transition: all .75s cubic-bezier(.19, 1, .22, 1);
  color: #fdfdfd;
}

.cookie-box-hide {
  display: none;
}
</style>
</body>
</html>